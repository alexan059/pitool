# Source: https://www.raspberrypi.com/news/cloud-init-on-raspberry-pi-os/

network:
  version: 2
  wifis:
    # Make sure the target is NetworkManager which is the default on Raspberry Pi OS (and Lite)
    renderer: NetworkManager
    # The connection name
    wlan0:
      dhcp4: true
      # !VERY IMPORTANT! Change this to the ISO/IEC 3166 country code for the country you want to use this microSD card in.
      regulatory-domain: "{{ wifi.country_code }}"
      access-points:
        "{{ wifi.ssid }}":
          password: "{{ wifi.password }}"
      # Donâ€™t wait at boot for this connection to connect successfully
      optional: true
